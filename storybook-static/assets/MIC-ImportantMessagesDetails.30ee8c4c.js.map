{"version":3,"file":"MIC-ImportantMessagesDetails.30ee8c4c.js","sources":["../../src/lib/Components/MIC-ImportantMessagesDetails.svelte"],"sourcesContent":["<svelte:options tag=\"mic-messagesdetails\" />\n\n<script>\n  // @ts-nocheck\n\n  // import circyle from \"../../assets/cr.svg\";\n  // import messageNotification from \"../../assets/messages-notification.svg\";\n  // import messageNotification from \"../../assets/envelope-solid.svg\";\n\n  import {\n    fetchAndRedirect,\n    apiToken,\n    eventsDomain,\n    apiDomain,\n    persona,\n  } from \"../../js/store\";\n  import { useLazyImage as lazyImage } from \"svelte-lazy-image\";\n\n    /**\n   * @type {array} jwt token generated by MiPortal\n   */\n  export let messages;\n  let container;\n  //state\n  let show = false;\n\n  const showMessages = (toggle) => {\n    show = !show;\n    if (toggle == \"view\") {\n      fetchAndRedirect(\n        $apiToken,\n        `${$apiDomain}/rest/restmijourney/v1/CreateEvent`,\n        null,\n        {\n          EventCode: \"IN_Important_Messages_view\",\n          Outcome: `Number Of Messsages: ${messages.length}`,\n          Feedback: \"\",\n          Persona: $persona,\n        }\n      );\n    } else {\n      fetchAndRedirect(\n        $apiToken,\n        `${$apiDomain}/rest/restmijourney/v1/CreateEvent`,\n        null,\n        {\n          EventCode: \"IN_Important_Messages_Close\",\n          Outcome: `Number Of Messsages: ${messages.length}`,\n          Feedback: \"\",\n          Persona: $persona,\n        }\n      );\n    }\n  };\n  document.addEventListener(\"keydown\", function (event) {\n    if (event.key === \"Escape\" || event.keyCode === 27) {\n      if (show == true) {\n        show = false;\n        fetchAndRedirect(\n          $apiToken,\n          `${$apiDomain}/rest/restmijourney/v1/CreateEvent`,\n          null,\n          {\n            EventCode: \"IN_Important_Messages_Close\",\n            Outcome: `Number Of Messsages: ${messages.length}`,\n            Feedback: \"\",\n            Persona: $persona,\n          }\n        );\n      }\n    }\n  });\n  $: container = document.querySelector(\".container\");\n  $: if (container) {\n    container.addEventListener(\"click\", function (event) {\n      // check if the click event originated from the container\n      if (event.target === container) {\n        // do something when the container is clicked\n        showMessages();\n      }\n    });\n  }\n</script>\n\n<div class=\"message-footer\" >\n  <button class=\"enable\" on:click={() => showMessages(\"view\")}>View</button>\n</div>\n{#if show}\n  <!-- svelte-ignore a11y-click-events-have-key-events -->\n  <div class=\"modal-container\" bind:this={container}>\n    <div>\n      {#if messages}\n        <div class=\"modal-content\">\n          <div class=\"message-header\">\n            <div class=\"message-logo\">\n              <img\n                src={`https://tecocdn.azureedge.net/ibill/iBill-assets/envelope-solid.svg`}\n                alt=\"\"\n                use:lazyImage\n              />\n              <span id=\"unreaded-msgs\">&nbsp;{messages.length}&nbsp;</span>\n            </div>\n            <div class=\"message-lable\">Important Message</div>\n            <button on:click={() => showMessages()}>Ã—</button>\n          </div>\n          {#if messages}\n            <div class=\"message-body\">\n              {#each messages as messageObj, i}\n                {#if messageObj.message !== \"\"}\n                  <section>\n                    <h4 class=\"msg-title\">\n                      Message {i + 1}\n                    </h4>\n                    <p class=\"msg-data\">\n                      {#if messageObj && messageObj.Title !== \"\"}\n                        <span>\n                          <span class=\"msg-title\">\n                            {messageObj.Title}\n                          </span>\n                          {@html messageObj.message}\n                        </span>\n                      {:else}\n                        {@html messageObj.message}\n                      {/if}\n                    </p>\n                    <br />\n                    <hr />\n                  </section>\n                {/if}\n              {/each}\n            </div>\n          {/if}\n        </div>\n      {/if}\n    </div>\n  </div>\n{/if}\n\n<style lang=\"scss\">\n  .modal-container {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 3;\n    overflow-y: auto;\n  }\n  .modal-content {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    border-radius: 10px;\n    max-width: 100vw;\n    overflow-y: auto;\n    max-height: 75%;\n    padding: 20px 20px 25px 20px;\n    min-width: 240px;\n    button {\n      background: none;\n      border: none;\n      color: #6b7280;\n      font-size: 36px;\n      font-weight: 600;\n      padding: 0;\n      cursor: pointer;\n    }\n    img {\n      cursor: pointer;\n    }\n  }\n  ::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 0 25px 0 0%;\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: rgb(216, 216, 216);\n    border-radius: 0 25px 0 0%;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: rgba(192, 192, 192, 0.759);\n  }\n  hr {\n    margin-top: 32px;\n  }\n  .container {\n    padding: 2rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    overflow-y: hidden;\n  }\n  .message-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    gap: 10px;\n    align-items: center;\n    .message-lable {\n      display: flex;\n      align-items: center;\n      text-transform: uppercase;\n      color: #005faa;\n      letter-spacing: -0.02em;\n      font-weight: 400;\n      font-size: 21px;\n      line-height: 29px;\n      text-align: center;\n      @media screen and (max-width: 480px) {\n        font-size: 18px;\n        display: flex;\n        flex-wrap: wrap;\n      }\n    }\n  }\n  #notification {\n    position: absolute;\n    left: 5.71%;\n    left: 25.71%;\n    right: 0;\n    top: -7px;\n  }\n\n  .msg-title {\n    font-weight: 700;\n    font-size: 20px;\n    letter-spacing: -0.02em;\n    color: #005faa;\n    height: 1.5rem;\n  }\n  p {\n    // display: contents;\n    margin: 0;\n    @media screen and (max-width: 480px) {\n      font-size: 18px !important;\n    }\n  }\n  #unreaded-msgs {\n    position: absolute;\n    right: -10px;\n    top: -8px;\n    color: #ffffff;\n    background: #da1e28;\n    border-radius: 50%;\n    border: 2px solid white;\n    width: 20px;\n    height: 20px;\n    font-size: 12px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .message-body {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0px;\n    max-width: 392px;\n    height: 80%;\n  }\n  .msg-data {\n    font-style: normal;\n    font-weight: 300;\n    font-size: 20px;\n    line-height: 30px;\n  }\n\n  .message-logo {\n    position: relative;\n  }\n  .message-footer {\n    height: auto;\n    display: flex;\n    flex-direction: row-reverse;\n    width: 100%;\n    .enable {\n      padding: 10px 24px;\n      gap: 10px;\n      width: 93px;\n      height: 50px;\n      font-weight: 400;\n      font-size: 20px;\n      line-height: 30px;\n      background: #005faa;\n      color: #ffffff;\n      border-radius: 6px;\n      border: none;\n      cursor: pointer;\n      &:hover {\n        background-color: #145093;\n        /* darker */\n      }\n      &:active {\n        background-color: #004083;\n        /* darker */\n      }\n    }\n  }\n</style>\n"],"names":["ctx","create_if_block_1","insert","target","div1","anchor","append","div0","t2_value","create_if_block_2","div3","div2","img","span","button","dirty","set_data","t2","i","div","t1_value","create_if_block_4","section","h4","p","br","hr","raw_value","html_tag","t0_value","span1","span0","t0","create_if_block_3","create_if_block","messages","$$props","container","show","showMessages","toggle","$$invalidate","fetchAndRedirect","$apiToken","$apiDomain","$persona","event","click_handler","$$value"],"mappings":"sUA2FWA,EAAQ,IAAAC,EAAAD,CAAA,8HAFjBE,EA8CKC,EAAAC,EAAAC,CAAA,EA7CHC,EA4CKF,EAAAG,CAAA,iCA3CEP,EAAQ,kIAS2BQ,EAAAR,KAAS,OAAM,uBAK9CA,EAAQ,IAAAS,EAAAT,CAAA,+EALgB,MAAM,aAAiB,MAAM,+fAR5DE,EAwCKC,EAAAO,EAAAL,CAAA,EAvCHC,EAWKI,EAAAC,CAAA,EAVHL,EAOKK,EAAAJ,CAAA,EANHD,EAICC,EAAAK,CAAA,SACDN,EAA4DC,EAAAM,CAAA,8BAE9DP,EAAiDK,EAAAP,CAAA,SACjDE,EAAiDK,EAAAG,CAAA,kFAHfC,EAAA,GAAAP,KAAAA,EAAAR,KAAS,OAAM,KAAAgB,EAAAC,EAAAT,CAAA,EAK9CR,EAAQ,qHAEFA,EAAQ,wBAAb,OAAIkB,GAAA,gIADRhB,EAwBKC,EAAAgB,EAAAd,CAAA,qEAvBIL,EAAQ,qBAAb,OAAI,GAAA,EAAA,iHAAJ,uDAIeoB,EAAApB,MAAI,EAAC,mCAGT,OAAAA,EAAc,KAAAA,EAAW,IAAA,QAAU,GAAEqB,gEAJvB,UACX,gPAFZnB,EAkBSC,EAAAmB,EAAAjB,CAAA,EAjBPC,EAEIgB,EAAAC,CAAA,uBACJjB,EAWGgB,EAAAE,CAAA,qBACHlB,EAAKgB,EAAAG,CAAA,SACLnB,EAAKgB,EAAAI,CAAA,4HAJMC,EAAA3B,MAAW,QAAO,4EAAlBe,EAAA,GAAAY,KAAAA,EAAA3B,MAAW,QAAO,KAAA4B,EAAA,EAAAD,CAAA,kDALpBE,EAAA7B,MAAW,MAAK,SAEZ2B,EAAA3B,MAAW,QAAO,oJAJ3BE,EAKMC,EAAA2B,EAAAzB,CAAA,EAJJC,EAEMwB,EAAAC,CAAA,iCADHhB,EAAA,GAAAc,KAAAA,EAAA7B,MAAW,MAAK,KAAAgB,EAAAgB,EAAAH,CAAA,EAEZd,EAAA,GAAAY,KAAAA,EAAA3B,MAAW,QAAO,KAAA4B,EAAA,EAAAD,CAAA,wCAX9B3B,EAAU,IAAC,UAAY,IAAEiC,EAAAjC,CAAA,iEAAzBA,EAAU,IAAC,UAAY,+HArBvCA,EAAI,IAAAkC,EAAAlC,CAAA,wKAHTE,EAEKC,EAAAgB,EAAAd,CAAA,EADHC,EAAyEa,EAAAL,CAAA,wEAEtEd,EAAI,0NAlEI,SAAAmC,CAAQ,EAAAC,EACfC,EAEAC,EAAO,GAEL,MAAAC,EAAgBC,GAAM,CAC1BC,EAAA,EAAAH,GAAQA,CAAI,EACRE,GAAU,OACZE,EACEC,EACG,GAAAC,sCACH,KAAI,CAEF,UAAW,6BACX,QAAO,wBAA0BT,EAAS,SAC1C,SAAU,GACV,QAASU,IAIbH,EACEC,EACG,GAAAC,sCACH,KAAI,CAEF,UAAW,8BACX,QAAO,wBAA0BT,EAAS,SAC1C,SAAU,GACV,QAASU,KAKjB,SAAS,iBAAiB,mBAAqBC,EAAK,EAC9CA,EAAM,MAAQ,UAAYA,EAAM,UAAY,KAC1CR,GAAQ,KACVG,EAAA,EAAAH,EAAO,EAAK,EACZI,EACEC,EACG,GAAAC,sCACH,KAAI,CAEF,UAAW,8BACX,QAAO,wBAA0BT,EAAS,SAC1C,SAAU,GACV,QAASU,OAmBoB,MAAAE,EAAA,IAAAR,EAAa,MAAM,QAkBxBA,6CAdMF,EAASW,gGAhB1CX,GACLA,EAAU,iBAAiB,iBAAmBS,EAAK,CAE7CA,EAAM,SAAWT,GAEnBE,WANHF,EAAY,SAAS,cAAc,YAAY,CAAA"}