import{S as V,i as J,s as K,u,w as v,e as T,v as m,a as y,A as c,F as B,q,d as b,r as D,x as E,D as Q,B as U,H,G as W,E as X,f as Y,N as G}from"./index.2a8355d9.js";import{u as Z,h as O,p as $,b as x,a as ee}from"./LazyImage.e1990c62.js";function F(a,s,t){const e=a.slice();return e[10]=s[t],e[12]=t,e}function P(a){let s,t,e=a[0]&&S(a);return{c(){s=u("div"),t=u("div"),e&&e.c(),m(t,"class","svelte-4dgy7n"),m(s,"class","modal-container svelte-4dgy7n")},m(l,r){y(l,s,r),c(s,t),e&&e.m(t,null),a[6](s)},p(l,r){l[0]?e?e.p(l,r):(e=S(l),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(l){l&&b(s),e&&e.d(),a[6](null)}}}function S(a){let s,t,e,l,r,i,n,o,f=a[0].length+"",k,h,w,d,I,_,p,M,j,g=a[0]&&L(a);return{c(){s=u("div"),t=u("div"),e=u("div"),l=u("img"),i=v(),n=u("span"),o=E("\xA0"),k=E(f),h=E("\xA0"),w=v(),d=u("div"),d.textContent="Important Message",I=v(),_=u("button"),_.textContent="\xD7",p=v(),g&&g.c(),Q(l.src,r="https://tecocdn.azureedge.net/ibill/iBill-assets/envelope-solid.svg")||m(l,"src",r),m(l,"alt",""),m(l,"class","svelte-4dgy7n"),m(n,"id","unreaded-msgs"),m(n,"class","svelte-4dgy7n"),m(e,"class","message-logo svelte-4dgy7n"),m(d,"class","message-lable svelte-4dgy7n"),m(_,"class","svelte-4dgy7n"),m(t,"class","message-header svelte-4dgy7n"),m(s,"class","modal-content svelte-4dgy7n")},m(C,N){y(C,s,N),c(s,t),c(t,e),c(e,l),c(e,i),c(e,n),c(n,o),c(n,k),c(n,h),c(t,w),c(t,d),c(t,I),c(t,_),c(s,p),g&&g.m(s,null),M||(j=[U(Z.call(null,l)),B(_,"click",a[5])],M=!0)},p(C,N){N&1&&f!==(f=C[0].length+"")&&H(k,f),C[0]?g?g.p(C,N):(g=L(C),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},d(C){C&&b(s),g&&g.d(),M=!1,W(j)}}}function L(a){let s,t=a[0],e=[];for(let l=0;l<t.length;l+=1)e[l]=A(F(a,t,l));return{c(){s=u("div");for(let l=0;l<e.length;l+=1)e[l].c();m(s,"class","message-body svelte-4dgy7n")},m(l,r){y(l,s,r);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,null)},p(l,r){if(r&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const n=F(l,t,i);e[i]?e[i].p(n,r):(e[i]=A(n),e[i].c(),e[i].m(s,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=t.length}},d(l){l&&b(s),X(e,l)}}}function z(a){let s,t,e,l=a[12]+1+"",r,i,n,o,f,k,h,w;function d(p,M){return p[10]&&p[10].Title!==""?se:te}let I=d(a),_=I(a);return{c(){s=u("section"),t=u("h4"),e=E("Message "),r=E(l),i=v(),n=u("p"),_.c(),o=v(),f=u("br"),k=v(),h=u("hr"),w=v(),m(t,"class","msg-title svelte-4dgy7n"),m(n,"class","msg-data svelte-4dgy7n"),m(f,"class","svelte-4dgy7n"),m(h,"class","svelte-4dgy7n"),m(s,"class","svelte-4dgy7n")},m(p,M){y(p,s,M),c(s,t),c(t,e),c(t,r),c(s,i),c(s,n),_.m(n,null),c(s,o),c(s,f),c(s,k),c(s,h),c(s,w)},p(p,M){I===(I=d(p))&&_?_.p(p,M):(_.d(1),_=I(p),_&&(_.c(),_.m(n,null)))},d(p){p&&b(s),_.d()}}}function te(a){let s,t=a[10].message+"",e;return{c(){s=new G(!1),e=T(),s.a=e},m(l,r){s.m(t,l,r),y(l,e,r)},p(l,r){r&1&&t!==(t=l[10].message+"")&&s.p(t)},d(l){l&&b(e),l&&s.d()}}}function se(a){let s,t,e=a[10].Title+"",l,r,i,n=a[10].message+"";return{c(){s=u("span"),t=u("span"),l=E(e),r=v(),i=new G(!1),m(t,"class","msg-title svelte-4dgy7n"),i.a=null,m(s,"class","svelte-4dgy7n")},m(o,f){y(o,s,f),c(s,t),c(t,l),c(s,r),i.m(n,s)},p(o,f){f&1&&e!==(e=o[10].Title+"")&&H(l,e),f&1&&n!==(n=o[10].message+"")&&i.p(n)},d(o){o&&b(s)}}}function A(a){let s,t=a[10].message!==""&&z(a);return{c(){t&&t.c(),s=T()},m(e,l){t&&t.m(e,l),y(e,s,l)},p(e,l){e[10].message!==""?t?t.p(e,l):(t=z(e),t.c(),t.m(s.parentNode,s)):t&&(t.d(1),t=null)},d(e){t&&t.d(e),e&&b(s)}}}function le(a){let s,t,e,l,r,i,n=a[2]&&P(a);return{c(){s=u("div"),t=u("button"),t.textContent="View",e=v(),n&&n.c(),l=T(),m(t,"class","enable svelte-4dgy7n"),m(s,"class","message-footer svelte-4dgy7n")},m(o,f){y(o,s,f),c(s,t),y(o,e,f),n&&n.m(o,f),y(o,l,f),r||(i=B(t,"click",a[4]),r=!0)},p(o,[f]){o[2]?n?n.p(o,f):(n=P(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i:q,o:q,d(o){o&&b(s),o&&b(e),n&&n.d(o),o&&b(l),r=!1,i()}}}function ne(a,s,t){let e,l,r;D(a,$,d=>t(7,e=d)),D(a,x,d=>t(8,l=d)),D(a,ee,d=>t(9,r=d));let{messages:i}=s,n,o=!1;const f=d=>{t(2,o=!o),d=="view"?O(r,`${l}/rest/restmijourney/v1/CreateEvent`,null,{EventCode:"IN_Important_Messages_view",Outcome:`Number Of Messsages: ${i.length}`,Feedback:"",Persona:e}):O(r,`${l}/rest/restmijourney/v1/CreateEvent`,null,{EventCode:"IN_Important_Messages_Close",Outcome:`Number Of Messsages: ${i.length}`,Feedback:"",Persona:e})};document.addEventListener("keydown",function(d){(d.key==="Escape"||d.keyCode===27)&&o==!0&&(t(2,o=!1),O(r,`${l}/rest/restmijourney/v1/CreateEvent`,null,{EventCode:"IN_Important_Messages_Close",Outcome:`Number Of Messsages: ${i.length}`,Feedback:"",Persona:e}))});const k=()=>f("view"),h=()=>f();function w(d){Y[d?"unshift":"push"](()=>{n=d,t(1,n)})}return a.$$set=d=>{"messages"in d&&t(0,i=d.messages)},a.$$.update=()=>{a.$$.dirty&2&&n&&n.addEventListener("click",function(d){d.target===n&&f()})},t(1,n=document.querySelector(".container")),[i,n,o,f,k,h,w]}class R extends V{constructor(s){super(),J(this,s,ne,le,K,{messages:0})}}const oe=R;R.__docgen={version:3,name:"MIC-ImportantMessagesDetails.svelte",data:[{keywords:[{name:"type",description:"{array} jwt token generated by MiPortal"}],visibility:"public",description:"",name:"messages",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{oe as M};
//# sourceMappingURL=MIC-ImportantMessagesDetails.4ac9cda2.js.map
